<!-- build time:Fri May 14 2021 16:21:31 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2" rel="stylesheet"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.jpg?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="CSI,SRS,"><meta property="og:type" content="article"><meta property="og:title" content="5G-NR-参考信号学习"><meta property="og:url" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/index.html"><meta property="og:site_name" content="CongZ&#39;s Blog"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p2-NZP-CSI-resource.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p3-RS-ResourceMapping.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p1-CSI-FrequencyOccuption.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t1-211-7.4.1.5.3-1.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t2-211-7.4.1.5.3-2~5.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p4-CSI%E6%98%A0%E5%B0%84%E4%BE%8B%E5%AD%90.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p5-CSI%E6%98%A0%E5%B0%841.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p6-CSI%E6%98%A0%E5%B0%842.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p7-CSI%E6%98%A0%E5%B0%843.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p8-CSI%E6%98%A0%E5%B0%844.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p9-CSI%E6%98%A0%E5%B0%84BWP1.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p10-CSI%E6%98%A0%E5%B0%84BWP2.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p27-CSI-IM-p0.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p28-CSI-IM-p1.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p26-SRS%E5%8F%82%E6%95%B0%E9%85%8D%E7%BD%AE.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p10-SRS%E6%97%B6%E9%9A%99%E9%85%8D%E7%BD%AE1.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p11-SRS%E6%97%B6%E9%9A%99%E9%85%8D%E7%BD%AE.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t3-211-6.4.1..4.3-11.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t4-211-6.4.1..4.3-12.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t5-211-6.4.1..4.3-13.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p13-%E9%9D%9E%E8%B0%83%E9%A2%911.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p17-%E9%9D%9E%E8%B0%83%E9%A2%9111.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p14-%E9%9D%9E%E8%B0%83%E9%A2%912.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p18-%E9%9D%9E%E8%B0%83%E9%A2%9122.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p15-%E9%9D%9E%E8%B0%83%E9%A2%913.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p19-%E9%9D%9E%E8%B0%83%E9%A2%9133.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p16-%E9%9D%9E%E8%B0%83%E9%A2%914.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p20-%E9%9D%9E%E8%B0%83%E9%A2%9144.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p21-%E8%B7%B3%E9%A2%91%E9%9D%9E%E5%91%A8%E6%9C%9F1.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p22-%E8%B7%B3%E9%A2%91%E9%9D%9E%E5%91%A8%E6%9C%9F2.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p23-%E8%B7%B3%E9%A2%91%E9%9D%9E%E5%91%A8%E6%9C%9F3.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p24-%E6%98%A5%E5%A4%A9%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BE%8B%E5%AD%901.png"><meta property="og:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p25-%E6%98%A5%E5%A4%A9%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BE%8B%E5%AD%902.png"><meta property="article:published_time" content="2020-04-15T08:38:16.000Z"><meta property="article:modified_time" content="2021-05-05T14:45:40.000Z"><meta property="article:author" content="从之丶"><meta property="article:tag" content="CSI"><meta property="article:tag" content="SRS"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://czgitaccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p2-NZP-CSI-resource.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!1,scrollpercent:"ture",onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://czGitAccount.github.io/5G协议/5G-NR-参考信号学习/"><title>5G-NR-参考信号学习 | CongZ's Blog</title><meta name="generator" content="Hexo 4.2.0"></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">CongZ's Blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">择其善者而从之，其不善者而改之 !</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://czGitAccount.github.io/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="从之丶"><meta itemprop="description" content=""><meta itemprop="image" content="/images/logo.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="CongZ's Blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">5G-NR-参考信号学习</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-04-15T16:38:16+08:00">2020-04-15 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/5G%E5%8D%8F%E8%AE%AE/" itemprop="url" rel="index"><span itemprop="name">5G协议</span></a></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">6k </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">27</span></div></div></header><div class="post-body" itemprop="articleBody"><div class="out-img-topic"><img src="/5G协议/5G-NR-参考信号学习/米兰大教堂.jpg" class="img-topic"></div><div class="post-button text-center"><div>米兰大教堂 -- 意大利</div></div><a id="more"></a><h1 id="1-CSI"><a href="#1-CSI" class="headerlink" title="1 CSI"></a>1 CSI</h1><p>与LTE中的CSI-RS类似，在NR中引入CSI-RS(Channel-state information RS)的目的是对信道状态进行评估，UE基于信令配置的CSI-RS参数对CSI-RS进行测量评估从而得到下行信道状态信息并反馈给基站并应用于链路自适应算法中。<br>需要注意的是，LTE中存在Cell-specific RS，所有属于某个cell的UE都可以通过测量CRS来获取下行信道质量；而在NR中，没有了CRS的概念，对下行信道的测量只能通过CSI-RS进行。</p><p>CSI-RS分为 zero-power(ZP)和non-zero-power(NZP) 两种CSI-RS：</p><ul><li>NZP CSI-RS 用于UE专有的下行信道测量</li><li>ZP CSI-RS使用与多个小区之间CSI-RS的协作传输，简单点说就是为了避免与其他小区的CSI-RS 传输的冲撞，将一个小区的下行数据传输中的一些RE设置为ZP CSI-RS(即该RE上为0功率传输)，这样就避开了CSI-RS传输的相互干扰，提高了对下行信道评估的准确性。</li></ul><h2 id="1-1-CSI-配置"><a href="#1-1-CSI-配置" class="headerlink" title="1.1 CSI 配置"></a>1.1 CSI 配置</h2><p>一些重要的配置如下：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p2-NZP-CSI-resource.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p3-RS-ResourceMapping.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p1-CSI-FrequencyOccuption.png" alt></p><h2 id="1-2-序列生成"><a href="#1-2-序列生成" class="headerlink" title="1.2 序列生成"></a>1.2 序列生成</h2><p>CSI-RS 序列 $r(m)$ 由以下公式定义：</p><script type="math/tex;mode=display">r(m) = \frac{1}{\sqrt{2}}(1-2\cdot c(2m)+j\frac{1}{\sqrt{2}}(1-2\cdot c(2m+1))\\c_{init}=(2^{10}(N_{symb}^{slot}n_{s,f}^{\mu}+l+1)(2n_{ID}+1)+n_{ID})mod2^{31}</script><p>其中：</p><ul><li>$N_{symb}^{slot}$ 为一个时隙中 OFDM 符号的个数</li><li>$n_{s,f}^{\mu}$ 为在子载波间距 $\mu$ 中，当前时隙在系统帧中的序号</li><li>$l$ 为 OFDM 符号 $l$ 在当前时隙中的序号</li><li>$n_{ID}$ 由 <em>NZP-CSI-RS-Resource -&gt; scramblingID</em> 或者 <em>CSI-RS-ResourceConfigMobility -&gt; sequenceGenerationConfig</em> 赋值</li></ul><h2 id="1-3-映射"><a href="#1-3-映射" class="headerlink" title="1.3 映射"></a>1.3 映射</h2><h3 id="1-3-1-原理"><a href="#1-3-1-原理" class="headerlink" title="1.3.1 原理"></a>1.3.1 原理</h3><p>对于配置的每一个CSI-RS，$r(m)$ 被映射到资源单元 $(k,l)_{p,\mu}$ ，根据：</p><script type="math/tex;mode=display">\alpha_{k,l}^{(p,\mu)}=\beta_{CSIRS}w_f(k')\cdot w_t(l')\cdot r_{l,n_{s,f}}(m')\\m'= \lfloor n\alpha \rfloor +k' + \lfloor \frac{\overline k\rho}{N_{sc}^{RB}} \rfloor\\k=nN_{sc}^{RB}+\overline k +k'\\l = \overline l+l'\\ \alpha = \begin{cases} \rho \quad\quad for\quad X=1 \\ 2\rho \quad\quad for \quad X>1 \end{cases}\\n = 0,1,...</script><p>其中：</p><ul><li>$\beta_{CSIRS}$，对于NZP-CSI-RS，由 <em>NZP-CSI-RS-Resource -&gt; powerContorlOffsetSS</em> 决定，对于ZP-CSI-RS， $\beta_{CSIRS} = 0$ ；</li><li>$\rho$ 由 <em>CSI-RS-ResourceMapping -&gt; density</em> 或者 <em>CSI-RS-cellMobility -&gt; density</em> 决定；</li><li>$X$ 由 <em>CSI-RS-ResourceMapping -&gt; nrofPorts</em> 决定，CSI-RS端口个数；</li><li>CSI-RS 的资源块的起始位置和数量由 <em>CSI-RS-ResourceMapping -&gt; freqBand</em> 决定，<em>freqBand</em> 指向了 <em>CSI-FrequencyOccupation</em>，分别由其中的 <em>startingRB , nrofRBs</em> 决定；</li><li>$k$ 为频域上子载波索引，$k$ 的参考点 $k = 0$ 是指 CRB#0 的子载波0的位置 ;</li><li>$k’,l’,w_f{k’},w_t{l’}$ 由表[TS 38.211 7.4.1.5.3-1-7.4.1.5.3-6] 给出，如下所示：</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t1-211-7.4.1.5.3-1.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t2-211-7.4.1.5.3-2~5.png" alt></p><p>其中：</p><ul><li>$l_0,l_1$ 为时域位置，$l_0 \in \{0,…,13\}$ 和 $l_1 \in \{2,…,12\}$ 由 <em>CSI-RS-ResourceMapping -&gt; firstOFDMSysmbolInTimeDomain, firstOFDMSysmbolInTimeDomain2</em> 决定。</li><li>$k_i$ 为频域位置，$k_i$ 由<em>CSI-RS-ResourceMapping -&gt; frequencyDomainAllocation</em> 决定。其中 $k_i$ 由 [TS 38.211 7.4.1.5.3-1]中所在row，以及下面公式决定：<ul><li>$[b_3 \cdots b_0],k_i=f(i)$，对于 [TS 38.211 7.4.1.5.3-1] 中 row = 1</li><li>$[b_{11} \cdots b_0],k_i=f(i)$，对于 [TS 38.211 7.4.1.5.3-1] 中 row = 2</li><li>$[b_2 \cdots b_0],k_i=4f(i)$，对于 [TS 38.211 7.4.1.5.3-1] 中 row = 4</li><li>$[b_5 \cdots b_0],k_i=2f(i)$，对于 [TS 38.211 7.4.1.5.3-1] 中 row = other</li></ul></li></ul><p>上面内容解释：$f(i)$ 中的 $i$ 代表的是 <em>bitmap</em> 第 $i$ 次1的出现的位置是二进制的权值。<br>若row1_FrequencyDomainBitmap=[0001]，则$k_0 = f(1) = 0$；<br>若row2_FrequencyDomainBitmap=[000000000010]，则$k_0=f(1)=1$<br>若row4_FrequencyDomainBitmap=[100]，则$k_0 = 4f(1) = 4\times 2=8$；<br>若row10_FrequencyDomainBitmap=[001110]，则$k_0 =2 f(1) = 2，k_1=2f(2)=2\times 2 = 4,k_2=2f(3)=2\times 4=8$</p><ul><li>$p$ 为发送CSI-RS的天线端口，根据下式得出：</li></ul><script type="math/tex;mode=display">p=3000+s+jL\\j=0,1,...,N/L-1\\s=0,1,...,L-1</script><ul><li>其中：<ul><li>$s$ 由[TS 38.211 7.4.1.5.3-2~5] 中序列索引给出；</li><li>$L \in \{1,2,4,8\}$ 是CDM group 的大小；</li><li>$N$ 是CSI-RS端口数量；</li><li>$j$ 是CDM group index，由[TS 38.211 7.4.1.5.3-1]中给出, CDM group 按照先频域后时域顺序分配编号。</li></ul></li></ul><h3 id="1-3-2-例子"><a href="#1-3-2-例子" class="headerlink" title="1.3.2 例子"></a>1.3.2 例子</h3><h4 id="1-3-2-1-RB内"><a href="#1-3-2-1-RB内" class="headerlink" title="1.3.2.1 RB内"></a>1.3.2.1 RB内</h4><p>采用1.2.1所用的四个例子，更详细的说明映射的时频域位置，以及天线端口。<br>(1) 若row1_FrequencyDomainBitmap=[0001]，firstOFDMSysmbolInTimeDomain = 4<br>(2) 若row2_FrequencyDomainBitmap=[000000000010]，firstOFDMSysmbolInTimeDomain = 4<br>(3) 若row4_FrequencyDomainBitmap=[100]，firstOFDMSysmbolInTimeDomain = 2<br>(4) 若row10_FrequencyDomainBitmap=[001110]，firstOFDMSysmbolInTimeDomain = 2<br>首先先在 [TS 38.211 7.4.1.5.3-1] 中选择需要的参数，如下图所示：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p4-CSI映射例子.png" alt></p><p><strong>(1) 若row1_FrequencyDomainBitmap=[0001]，firstOFDMSysmbolInTimeDomain = 4</strong></p><ul><li>Density = 3，一个RB内，CSI-RS 出现三次，每个位置间隔4个子载波；</li><li>FrequencyDomainBitmap = [0001]，$k_0 = f(1) = 0$；</li><li>No-CDM，没有采用CDM，只对应一个天线端口3000。</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p5-CSI映射1.png" alt></p><p><strong>(2) 若row2_FrequencyDomainBitmap=[000000000010]，firstOFDMSysmbolInTimeDomain = 4</strong></p><ul><li>Density = 1 or 0.5，①一个RB内，CSI-RS 出现一次；②奇数RB，或偶数RB出现，也就是每两个RB出现一次。</li><li>FrequencyDomainBitmap =[000000000010]，$k_0 = f(1) = 1$；</li><li>No-CDM，没有采用CDM，只对应一个天线端口3000。</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p6-CSI映射2.png" alt></p><p><strong>(3) 若row4_FrequencyDomainBitmap=[100]，firstOFDMSysmbolInTimeDomain = 2</strong></p><ul><li>Density = 1，一个RB内，一组 CSI-RS CDM码出现一次；</li><li>FrequencyDomainBitmap = [100]，$k_0 = 4f(1) = 4\times2=8$；</li><li>fd-CDM2：一组CDM码占一个符号 $(l’=0)$，两个子载波 $(k’=0,1)$<ul><li>天线端口3000，3001位于符号 2 的 #8-#9 子载波</li><li>天线端口3002，3003位于符号 2 的 #10-#11 子载波</li></ul></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p7-CSI映射3.png" alt></p><p><strong>(4) 若row10_FrequencyDomainBitmap=[001110]，firstOFDMSysmbolInTimeDomain = 2</strong></p><ul><li>Density = 1，一个RB内，一组 CSI-RS CDM 码 出现一次；</li><li>FrequencyDomainBitmap = [001110]，$k_0 =2 f(1) = 2，k_1=2f(2)=2\times 2 = 4,k_2=2f(3)=2\times 4=8$；</li><li>cdm4-FD2-TD2：一组CDM码占两个符号 $(l’=0,1)$，两个子载波 $(k’=0,1)$<ul><li>天线端口3000，3001位于符号 2 的 #2 - #3 子载波</li><li>天线端口3002，3003位于符号 3 的 #2 - #3 子载波</li><li>天线端口3004，3005位于符号 2 的 #4 - #5 子载波</li><li>天线端口3006，3007位于符号 3 的 #4 - #5 子载波</li><li>天线端口3008，3009位于符号 2 的 #8 - #9 子载波</li><li>天线端口3010，3011位于符号 3 的 #8 - #9 子载波</li></ul></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p8-CSI映射4.png" alt></p><h4 id="1-3-2-2-BWP内"><a href="#1-3-2-2-BWP内" class="headerlink" title="1.3.2.2 BWP内"></a>1.3.2.2 BWP内</h4><p>在CSI-RS所关联的BWP内，主要考虑 <em>CSI-Frequency Occupation</em> 参数，需要确定起始RB以及RB个数。分别由 <em>CSI-Frequency Occupation -&gt; startingRB</em> 和 <em>CSI-Frequency Occupation -&gt; nrofRBs</em> 决定。<br>以下再一次引入上面例子(1)(2)，BWP内映射情况如下：</p><ul><li>若row1_FrequencyDomainBitmap=[0001]，则$k_0 = f(1) = 0$；</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p9-CSI映射BWP1.png" alt></p><ul><li>若row2_FrequencyDomainBitmap=[000000000010]，则$k_0=f(1)=1$</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p10-CSI映射BWP2.png" alt></p><h2 id="1-4-CSI-RS-的发送时隙"><a href="#1-4-CSI-RS-的发送时隙" class="headerlink" title="1.4 CSI-RS 的发送时隙"></a>1.4 CSI-RS 的发送时隙</h2><p>当<em>CSI-ResourceSet</em> 配置为周期或半持续配置时，CSI-RS的发送时隙满足以下公式：</p><script type="math/tex;mode=display">(N_{slot}^{frame,\mu}n_f+n_{s,f}^{\mu}-T_{offset})modT_{CSI-RS} = 0</script><p>其中：</p><ul><li>$N_{slot}^{frame,\mu}$为子载波间隔配置 $\mu$ 下，一个系统帧的时隙的个数</li><li>$n_f$ 为系统帧号</li><li>$n_{s,f}^{\mu}$ 为子载波间隔配置 $\mu$ 下，一个系统帧中莫格时隙的序号</li><li>$T_{CSI-RS}，T_{offest}$，分别为CSI-RS的周期(单位：ms)和每个周期的偏移量(单位：slot)。由①<em>NZP-CSI-RS-Resource -&gt; periodicityAndOffset</em> 或 <em>ZP-CSI-RS-Resource -&gt; periodicityAndOffset</em> ；②CSI-RS-Resource-Mobility -&gt; slotConfig 获取。</li></ul><p><strong>以下简单描述 ZP CSI-RS，CSI-IM (interference measurement)，CSI-RS for Tracking，CSI-RS for L1-RSRP，CSI-RS for mobility。</strong></p><h2 id="1-5-ZP-CSI-RS"><a href="#1-5-ZP-CSI-RS" class="headerlink" title="1.5 ZP CSI-RS"></a>1.5 ZP CSI-RS</h2><p>在 ZP CSI-RS 上，基站不发送CSI-RS参考信号，功率为0，目的用于PDSCH速率适配，即PDSCH的发送不使用ZP CSI-RS占用的RE符号。在<em>PDSCH-Comfig</em>配置了三种ZP CSI-RS Resource Set （周期/半持续/非周期）。<br>在PDSCH中，最多配置32个ZP CSI-RS Resource Set，每个Resource Set 中，包含最多16个 Resource。<br>对于ZP CSI-RS配置的 <em>CSI-RS-ResourceMapping</em>，参数含义和NZP CSI-RS 一致</p><h2 id="1-6-CSI-RS-配置框架"><a href="#1-6-CSI-RS-配置框架" class="headerlink" title="1.6 CSI-RS 配置框架"></a>1.6 CSI-RS 配置框架</h2><p>每一个CSI Report Setting （<em>CSI-ReportConfig</em>） 关联一个Resource Setting（<em>CSI-ResourceCofig</em>）；一个 Resource Setting 归属到一个BWP，类型为非周期，周期或者半持续。Resource Setting 中包括 S 个Resource Set，对于周期或者半持续Resource Setting，S=1，即只有一个资源集；<br>基站选择一个Resource Set 用于UE测量；一个Resource Set中包含了参考信号列表，可以是NZP CSI-RS 或者CSI-SSB，CSI-IM，用<em>ResourceID</em> 标识。UE 在Resource Set 中对一个Resource 进行测量和报告。</p><h2 id="1-7-CSI-IM及其资源映射"><a href="#1-7-CSI-IM及其资源映射" class="headerlink" title="1.7 CSI-IM及其资源映射"></a>1.7 CSI-IM及其资源映射</h2><p>CSI-IM用于进行干扰估计。UE 可以配置1个或者多个CSI-IM ResourceSet，每个Set包含 $K\geq 1$ 个资源。CSI-IM的资源映射相对简单，CSI-IM也可以是非周期，周期和半持续类型。</p><h3 id="1-7-1-Pattern-0"><a href="#1-7-1-Pattern-0" class="headerlink" title="1.7.1 Pattern 0"></a>1.7.1 Pattern 0</h3><p>当资源映射方式配置为Pattern 0 时，CSI-IM的资源映射到如下RE：</p><script type="math/tex;mode=display">(k_{CSI-IM},l_{CSI-IM}),(k_{CSI-IM},l_{CSI-IM}+1),(k_{CSI-IM}+1,l_{CSI-IM}),(k_{CSI-IM}+1,l_{CSI-IM}+1)</script><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p27-CSI-IM-p0.png" alt></p><h3 id="1-7-2-Pattern-1"><a href="#1-7-2-Pattern-1" class="headerlink" title="1.7.2 Pattern 1"></a>1.7.2 Pattern 1</h3><p>当资源映射方式配置为Pattern 1 时，CSI-IM的资源映射到如下RE：</p><script type="math/tex;mode=display">(k_{CSI-IM},l_{CSI-IM}),(k_{CSI-IM}+1,l_{CSI-IM}),(k_{CSI-IM}+2,l_{CSI-IM}),(k_{CSI-IM}+3,l_{CSI-IM})</script><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p28-CSI-IM-p1.png" alt></p><h3 id="1-7-3-干扰测量"><a href="#1-7-3-干扰测量" class="headerlink" title="1.7.3 干扰测量"></a>1.7.3 干扰测量</h3><p>对于CSI-IM配置的资源，基站不发送任何信号，也可以认为是一种ZP CSI-RS。UE在CSI-IM 上测量的干扰信号，来自于邻区或者为底噪，用来进行干扰估计。</p><h2 id="1-8-CSI-RS-for-Tracking"><a href="#1-8-CSI-RS-for-Tracking" class="headerlink" title="1.8 CSI-RS for Tracking"></a>1.8 CSI-RS for Tracking</h2><p>CSI-RS for Tracking，也称为TRS(tracking reference signal)，是一种比较特殊的参考信号，UE用来进行精确的时频域同步（精度高于SSB）。<br>在ResourceSet设置trs-info 为 true，ResourceSet 中的TRS使用相同端口；在RRC链接态下，必须配置TRS。<br>TRS时域特性：</p><ul><li>对于FR1，UE可以配置1个或者多个Set，每个Set包含连续两个时隙，一共4个资源Resource，每个时隙2个资源Resource;</li><li>对于FR2，可以配置4个资源（FR1），也可以配置两个资源（一个时隙）</li></ul><p>符号位置：</p><ul><li>FR1/FR2：$l\in \{4,8\},l\in \{5,9\},or,l\in \{6,10\}$</li><li>FR2：$l\in \{0,4\},l\in \{1,5\},l\in \{2,6\},l\in \{3,7\},l\in \{7,11\},l\in \{8,12\},l\in \{9,13\}$</li></ul><h2 id="1-9-CSI-RS-for-L1-RSRP"><a href="#1-9-CSI-RS-for-L1-RSRP" class="headerlink" title="1.9 CSI-RS for L1-RSRP:"></a>1.9 CSI-RS for L1-RSRP:</h2><p>用于L1 层RSRP测量与波束管理。<br>在ResourceSet设置Repetion字段，表示用于L1-RSRP测量</p><ul><li>On 表示ResourceSet中的多个Resource使用相同的下行波束发送</li><li>Off 表示ResourceSet中的多个Resource使用不同的下行波束发送</li></ul><h2 id="1-10-CSI-RS-for-mobility"><a href="#1-10-CSI-RS-for-mobility" class="headerlink" title="1.10 CSI-RS for mobility"></a>1.10 CSI-RS for mobility</h2><p>CSI-RS可以用来进行RR吗测量，用于移动性管理（切换）。</p><h1 id="2-SRS"><a href="#2-SRS" class="headerlink" title="2 SRS"></a>2 SRS</h1><p>LTE中已经支持 SRS ，基站可以利用SRS评估上行信道参数，对于TDD系统，利用信道互异性，也可以评估下行信道参数。<br>NR中也支持SRS，基站可以利用SRS评估上行(下行)信道质量以外，还可以使用SRS进行上行波束的管理，包括波束训练，波束切换等。</p><h2 id="2-1-SRS-配置"><a href="#2-1-SRS-配置" class="headerlink" title="2.1 SRS 配置"></a>2.1 SRS 配置</h2><p>一些重要参数配置如下：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p26-SRS参数配置.png" alt></p><h2 id="2-2-SRS-发送梳配置"><a href="#2-2-SRS-发送梳配置" class="headerlink" title="2.2 SRS 发送梳配置"></a>2.2 SRS 发送梳配置</h2><p>和LET类似，NR中的SRS在频域上，也采用了 “梳状” Comb 发送的方式，即对于单UE，在频域上，每N个子载波发送SRS；NR中，发送梳 <em>transmissionComb</em> 支持 N=2 或 N=4配置，其中的 $K_{TC}$ 参数表示 N，其中 <em>combOffset</em> 为发送梳偏置，对于N=2 或 N=4，分比为 {0,1}，{0,1,2,3}。不同UE可以配置不同子载波上的频分复用。</p><h2 id="2-3-序列生成"><a href="#2-3-序列生成" class="headerlink" title="2.3 序列生成"></a>2.3 序列生成</h2><p>SRS 序列长度定义 $M_{sc,b}^{RS} = m_{SRS,b}N_{sc}^{RB}/K_{TC}$。SRS 的序列长度为SRS在频域上的子载波个数。其中$m_{SRS,b}$ 由 [TS 38.211 6.4.1.4.3-1] 给出，见下文。<br>SRS资源的序列按照如下公式生成：</p><script type="math/tex;mode=display">r^{p_i}(n,l')=r_{u,v}^{(\alpha_i,\delta)}(n)\\0\leq n \leq M_{sc,b}^{RS}-1\\l'\in \{0,1,...,N_{symb}^{SRS}-1\}\\N_{symb}^{SRS}\in \{1,2,4\}</script><p>其中：</p><ul><li>$\alpha_i$，由 <em>cyclic shift</em> $\alpha_i$ 给出，见下文；</li><li>$\delta = log_2(K_{TC})$</li><li>$r_{u,v}^{(\alpha,\delta)}(n)$，为低峰均比序列，由 [TS 38.211 5.2.2] 定义，$r_{u,v}^{(\alpha,\delta)}(n)=e^{j\alpha n}\overline r_{u,v}(n),0\leq n\leq M_{ZC}$，$M_{ZC}$ 为序列长度,按照SRS序列来说就是 $M_{sc,b}^{RS}$ 。</li></ul><h2 id="2-4-SRS循环移位"><a href="#2-4-SRS循环移位" class="headerlink" title="2.4 SRS循环移位"></a>2.4 SRS循环移位</h2><p>不同的UE可以使用相同的SRS物理资源，此时不同UE的不同SRS端口，通过不同的循环移位 <em>cyclic shift</em> $\alpha_i$ 复用。根据不同发送梳配置，支持的最大循环移位个数不相同：</p><ul><li>$K_{TC}=2$，$n_{SRS}^{CS,max} = 8$</li><li>$K_{TC}=4$，$n_{SRS}^{CS,max} = 12$</li></ul><p>对于天线端口 $p_i$，循环移位 $\alpha_i$ 根据以下公式确定：</p><script type="math/tex;mode=display">\alpha_i = 2\pi\frac{n_{SRS}^{CS,i}}{n_{SRS}^{CS,max}}\\n_{SRS}^{CS,i}=\left( n_{SRS}^{CS}+\frac{n_{SRS}^{CS,max}(p_i-100)}{N_{ap}^{SRS}}\right) modn_{SRS}^{CS,max}\\n_{SRS}^{CS} \in \{0,1,...,n_{SRS}^{CS,max}-1\}\\N_{ap}^{SRS}\in\{1,2,4\}</script><h2 id="2-4-映射"><a href="#2-4-映射" class="headerlink" title="2.4 映射"></a>2.4 映射</h2><h3 id="2-4-1-时域资源配置"><a href="#2-4-1-时域资源配置" class="headerlink" title="2.4.1 时域资源配置"></a>2.4.1 时域资源配置</h3><p>由两个参数决定：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nrofSymbols		ENUMERATED &#123;n1,n2,n4&#125;</span><br><span class="line">startPosition	ENuMERATED &#123;0..5&#125;</span><br></pre></td></tr></table></figure><br>分别表示 $N_{symb}^{SRS} \in \{1,2,4\}$ 个OFDM 符号，$l_{offset}\in \{0,1,…,5\}$。<br>SRS 的时域开始符号 $l_0=N_{symb}^{slot}-1-l_{offset}，l_{offset} \geq N_{symb}^{SRS}-1$。即从时隙的最后一个符号开始倒数计数（SRS不能超过时隙的边界）<p></p><p>举例</p><ul><li>$N_{symb}^{SRS} =1，l_{offset} =2 ，l_0 = 11$</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p10-SRS时隙配置1.png" alt></p><ul><li>$N_{symb}^{SRS} =4，l_{offset} =3 ，l_0 = 10$</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p11-SRS时隙配置.png" alt></p><h3 id="2-4-2-频域资源"><a href="#2-4-2-频域资源" class="headerlink" title="2.4.2 频域资源"></a>2.4.2 频域资源</h3><p>SRS频域资源配置和映射相对复杂，但归根结底是需要确定SRS在频域的起始子载波位置和频域上的带宽分布。主要在SRS-Resource下这几个参数配置：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">freqDomainPosition	INTEGER (0..67);	&#x2F;&#x2F; 频域位置</span><br><span class="line">freqDomainShifft	INTEGER (0..268);	&#x2F;&#x2F; 频域偏移</span><br><span class="line">freqHopping		SEQUENCE &#123;				&#x2F;&#x2F; 跳频相关配置</span><br><span class="line">	c-SRS			INTEGER (0..63);</span><br><span class="line">	b-SRS			INTEGER (0..3);</span><br><span class="line">	b-hop			INTEGER (0..3);</span><br></pre></td></tr></table></figure><br>参数分别对应的物理层变量名为：<p></p><ul><li>$n_{RRC}$</li><li>$n_{shift}$</li><li>$C_{SRS}\in\{0,1,…,63\}$</li><li>$B_{SRS}\in \{0,1,2,3\}$</li><li>$b_{hop}\in \{0,1,2,3\}$</li></ul><p>参数 $m_{SRS,b}$ 为SRS 在频域上分布的RB个数，根据 $C_{SRS}，B_{SRS}$ 配置，由[TS 38.211 Table 6.4.1.4.3-1] 确定：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t3-211-6.4.1..4.3-11.png" alt><br><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t4-211-6.4.1..4.3-12.png" alt><br><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/t5-211-6.4.1..4.3-13.png" alt></p><h3 id="2-4-3-频域资源特性"><a href="#2-4-3-频域资源特性" class="headerlink" title="2.4.3 频域资源特性"></a>2.4.3 频域资源特性</h3><p>SRS的频域起始位置定义如下：</p><script type="math/tex;mode=display">k_0^{p_i}=\overline k_0^{(p_i)}+ \sum_{b=0}^{B_{SRS}}K_{TC}M_{sc,b}^{SRS}n_b\\ \overline k_0^{(p_i)}=n_{shift}N_{sc}^{RB}+k_{TC}^{(p_i)}\\k_{TC}^{(p_i)}=\begin{cases} (\overline k_{TC}+K_{TC}/2)modK_{TC}\quad \quad if\quad n_{SRS}^{CS}\in \{n_{SRS}^{cs,max}/2,...,n_{SRS}^{cs,max}-1\}\\ \quad\quad \quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\cdots\quad and\quad N_{ap}^{SRS}=4,p_i \in \{1001,1003\}\\ \overline k_{TC} \quad\quad\quad\quad\quad\quad\quad\quad\quad\quad\quad otherwise   \end{cases}</script><p>其中：</p><ul><li>$\overline k_{TC} \in \{0,1,…,K_{TC}-1\}$ ，为发送梳偏置 <em>combOffset</em>；</li><li>$K_{TC}$ 为发送梳配置，由<em>transmissionComb</em>配置；</li><li>$n_{shift}$ 由 <em>freqDomainShift</em> 配置；</li><li>当 $b_{hop} \geq B_{SRS}$ ，即不跳频，此时$n_b = \lfloor 4n_{RRC}/m_{SRS,b} \rfloor mod N_b$<ul><li>$n_{RRC}$ 由 <em>freqDomainPosition</em> 配置；</li><li>$b_{hop}$ 由 <em>freqHopping -&gt; b-hop</em> 配置。</li></ul></li></ul><h3 id="2-4-4-频域资源配置"><a href="#2-4-4-频域资源配置" class="headerlink" title="2.4.4 频域资源配置"></a>2.4.4 频域资源配置</h3><h4 id="2-4-4-1-频域资源配置（非跳频）"><a href="#2-4-4-1-频域资源配置（非跳频）" class="headerlink" title="2.4.4.1 频域资源配置（非跳频）"></a>2.4.4.1 频域资源配置（非跳频）</h4><p>当 $b_{hop} \geq B_{SRS}$，$n_b=\lfloor 4n_{RRC}/m_{SRS,b} \rfloor mod N_b$。<br>以下直接用4个例子说明，都设定参数 $C_{RS} = 63，K_{TC} = 2$，$n_{RRC}$ 由 <em>freqDomainPosition</em> 配置，为了方便作图，假定频域初始RB级偏移为0。</p><ul><li><ol><li>$B_{SRS} = 0$</li></ol></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p13-非调频1.png" alt></p><p>此时，$N_0=1,m_{SRS,0}=272,n_0=\lfloor 4n_{RRC}/m_{SRS,0} \rfloor mod N_0 = 0$</p><script type="math/tex;mode=display">k_0^{p_i}=\overline k_0^{(p_i)}+ \sum_{b=0}^{B_{SRS}}K_{TC}M_{sc,b}^{SRS}n_b = \overline k_0^{(p_i)} \\ \overline k_0^{(p_i)}=n_{shift}N_{sc}^{RB}+k_{TC}^{(p_i)}</script><p>此时 $n_{shift}$ 配置为 0/1，此种情况 SRS分布在全部配置的RB上，如下图所示：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p17-非调频11.png" alt></p><ul><li><ol><li>$B_{SRS} = 1$</li></ol></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p14-非调频2.png" alt></p><p>此时：</p><script type="math/tex;mode=display">N_0=1,m_{SRS,0}=272,n_0=\lfloor 4n_{RRC}/m_{SRS,0} \rfloor mod N_0 = 0\\N_1=17,m_{SRS,1}=16,n_1=\lfloor 4n_{RRC}/m_{SRS,1} \rfloor mod N_1 \in \{0,1,...,16\}</script><script type="math/tex;mode=display">k_0^{p_i}=\overline k_0^{(p_i)}+ \sum_{b=0}^{B_{SRS}}K_{TC}M_{sc,b}^{SRS}n_b = \overline k_0^{(p_i)} +K_{TC}M_{sc,1}^{SRS}n_1 \\ \overline k_0^{(p_i)}=n_{shift}N_{sc}^{RB}+k_{TC}^{(p_i)}</script><p>此种情况就是把SRS总带宽分为了 $N_1$ 个等份，每个等份的RB个数为 $m_{SRS,1}$，通过 $n_{RRC}$ 来配置取哪个等份的索引，本例子采用 $n_1 = 1$，如下图所示：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p18-非调频22.png" alt></p><ul><li><ol><li>$B_{SRS} = 2$</li></ol></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p15-非调频3.png" alt></p><p>此时：</p><script type="math/tex;mode=display">N_0=1,m_{SRS,0}=272,n_0=\lfloor 4n_{RRC}/m_{SRS,0} \rfloor mod N_0 = 0\\N_1=17,m_{SRS,1}=16,n_1=\lfloor 4n_{RRC}/m_{SRS,1} \rfloor mod N_1 \in \{0,1,...,16\}\\N_2=2,m_{SRS,2}=8,n_2=\lfloor 4n_{RRC}/m_{SRS,2} \rfloor mod N_2 \in \{0,1 \}</script><script type="math/tex;mode=display">k_0^{p_i}=\overline k_0^{(p_i)}+ \sum_{b=0}^{B_{SRS}}K_{TC}M_{sc,b}^{SRS}n_b = \overline k_0^{(p_i)} +K_{TC}M_{sc,1}^{SRS}n_1+K_{TC}M_{sc,2}^{SRS}n_2 \\ \overline k_0^{(p_i)}=n_{shift}N_{sc}^{RB}+k_{TC}^{(p_i)}</script><p>此种情况就是把SRS总带宽分为了 $N_1$ 个大等份，每个大等份的RB个数为 $m_{SRS,1}$，通过 $n_{RRC}$ 来配置取哪个大等份的索引，本例子采用 $n_1 = 1$。接着继续将每个大等份继续划分为 $N_2$ 个中等份，每个中等份的RB数为 m_{SRS,2}，通过$n _{RRC}$来确定中等份的索引，本例子采用 $n_2 = 0$，如下图所示：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p19-非调频33.png" alt></p><ul><li><ol><li>$B_{SRS} = 2$</li></ol></li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p16-非调频4.png" alt></p><p>此时：</p><script type="math/tex;mode=display">N_0=1,m_{SRS,0}=272,n_0=\lfloor 4n_{RRC}/m_{SRS,0} \rfloor mod N_0 = 0\\N_1=17,m_{SRS,1}=16,n_1=\lfloor 4n_{RRC}/m_{SRS,1} \rfloor mod N_1 \in \{0,1,...,16\}\\N_2=2,m_{SRS,2}=8,n_2=\lfloor 4n_{RRC}/m_{SRS,2} \rfloor mod N_2 \in \{0,1 \}\\N_3=2,m_{SRS,3}=4,n_3=\lfloor 4n_{RRC}/m_{SRS,3} \rfloor mod N_3 \in \{0,1\}</script><script type="math/tex;mode=display">k_0^{p_i}=\overline k_0^{(p_i)}+ \sum_{b=0}^{B_{SRS}}K_{TC}M_{sc,b}^{SRS}n_b = \overline k_0^{(p_i)} +K_{TC}M_{sc,1}^{SRS}n_1+K_{TC}M_{sc,2}^{SRS}n_2+K_{TC}M_{sc,3}^{SRS}n_3 \\ \overline k_0^{(p_i)}=n_{shift}N_{sc}^{RB}+k_{TC}^{(p_i)}</script><p>此种情况就是把SRS总带宽分为了$ N_1 $个大等份，每个大等份的RB个数为 $m_{SRS,1}$，通过 $n_{RRC}$ 来配置取哪个大等份的索引，本例子采用 $ n_1 = 1$；接着继续将每个大等份继续划分为 $N_2 $ 个中等份，每个中等份的RB数为 $m_{SRS,2}$，通过 $n _{RRC}$ 来确定中等份的索引，本例子采用 $n_2 = 0$；最后再将中等份划分为 $N_3$ 个小等份，每个小等份的RB数为 $m _{SRS,3}$ ，通过 $n _{RRC}$ 来确定小等份的索引，本例子采用的 $n _3 = 0$，如下图所示：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p20-非调频44.png" alt></p><h4 id="2-4-4-2-频域资源配置（跳频）"><a href="#2-4-4-2-频域资源配置（跳频）" class="headerlink" title="2.4.4.2 频域资源配置（跳频）"></a>2.4.4.2 频域资源配置（跳频）</h4><p>SRS可以支持跳频，由时域和频域两方面的参数共同确定跳频特性。<br>时域上：SRS再时隙内占用 $N_s$ 个符号（1,2,4）; <em>Repetition Factor</em>，$R \in \{R \leq N_s\}$ ，即再每个符号上重复 R 次，显然：</p><ul><li>当 $R = N_s$ 时，不支持时隙内跳频；</li><li>当 $R = 1,N_s=2,4$ 时，时隙内进行跳频，以一个OFDM符号为单位跳频；</li><li>当 $R = 2,N_S = 4$ 时，时隙内进行跳频，以两个OFDM符号位单位跳频；</li></ul><p>SRS支持三种类型的 Resource Type：</p><ul><li>非周期：只能再时隙内进行（即触发一次就完全跳完）</li><li>周期和半持续可以在时隙内跳频，也支持时隙间（周期）跳频</li></ul><p>当 $b_{hop} &lt; B_{SRS}$ 时，表示跳频生效，此时频率位置参数 $n_b$ ，由以下公式给出：</p><script type="math/tex;mode=display">n_b=\begin{cases} \quad\quad \lfloor 4n_{RRC}/m_{SRS,b} \rfloor mod N_b\quad\quad\quad\quad\quad\quad\quad b\leq b_{hop}\\ \{ F_b(n_SRS)+\lfloor 4n_{RRC}/m_{SRS,b} \rfloor \} mod N_b\quad\quad otherwise  \end{cases}\\F_b(n_{SRS})=\begin{cases} (N_b/2)\lfloor \frac{n_{SRS}mod\prod_{b'=b_{hop}}^{b}N_{b'}}{\prod_{b'=b_{hop}}^{b}N_{b'}}+\frac{n_{SRS}mod\prod_{b'=b_{hop}}^{b}N_{b'}}{2\prod_{b'=b_{hop}}^{b}N_{b'}} \rfloor \quad if\quad N_b\quad even\\ \quad\quad\quad\lfloor N_b/2 \rfloor\lfloor n_{SRS}/\prod_{b'=b_{hop}}^{b-1}N_{b'} \rfloor\quad\quad\quad\quad\quad\quad if\quad N_b\quad odd \end{cases}</script><h5 id="2-4-4-2-1-非周期"><a href="#2-4-4-2-1-非周期" class="headerlink" title="2.4.4.2.1 非周期"></a>2.4.4.2.1 非周期</h5><p>非周期SRS，仅支持时隙内跳频（即依次完成）</p><ul><li>当 $R = 1,N_S=2$时，时隙内跳频，2个OFDM符号跳频，需要覆盖到整个SRS带宽，即把SRS带宽分为两个子带，通过2个符号跳频实现；</li><li>当 $R = 1,N_S=4$时，时隙内跳频，4个OFDM符号跳频，需要覆盖到整个SRS带宽，即把SRS带宽分为四个子带，通过4个符号跳频实现；</li><li>当 $R = 2,N_S=4$时，时隙内跳频，4个OFDM符号跳频，需要覆盖到整个SRS带宽，即把SRS带宽分为两个子带，通过2个符号对跳频实现；<br>如下图所示：</li></ul><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p21-跳频非周期1.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p22-跳频非周期2.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p23-跳频非周期3.png" alt></p><p>以下有一个摘自春天工作室的例子，来说明如何使用上文所描述跳频的公式：</p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p24-春天工作室例子1.png" alt></p><p><img src="/5G%E5%8D%8F%E8%AE%AE/5G-NR-%E5%8F%82%E8%80%83%E4%BF%A1%E5%8F%B7%E5%AD%A6%E4%B9%A0/p25-春天工作室例子2.png" alt></p><h5 id="2-4-4-2-2-周期和半持续"><a href="#2-4-4-2-2-周期和半持续" class="headerlink" title="2.4.4.2.2 周期和半持续"></a>2.4.4.2.2 周期和半持续</h5><p>对于周期和半持续SRS：</p><ul><li>当 $N_s=1$ 时，可以进行时隙间跳频</li><li>当 $N_s=2 or 4$ 时，可以进行时隙内和时隙间跳频</li><li>当 $N_s=R$ 时，可以进行时隙间跳频</li></ul><p>和非周期相比，周期和半持续 SRS 跳频函数相同，SRS发送计数定义不同 $n_{SRS}$:</p><script type="math/tex;mode=display">n_{SRS} = ( \frac{N_{slot}^{frame,\mu}n_f+n_{s,f}^{\mu}-T_{offset}}{T_{SRS}})(\frac{N_{symb}^{SRS}}{R})+ \lfloor \frac{l'}{R} \rfloor</script><p>即根据周期发送，$n_{SRS}$ 进行累加计数，实现了时隙间跳频。</p><h3 id="2-4-5-物理资源映射"><a href="#2-4-5-物理资源映射" class="headerlink" title="2.4.5 物理资源映射"></a>2.4.5 物理资源映射</h3><p>最终，根据前文的基础，当SRS在给定的SRS资源上传输时，序列$r^{(p_i)}(n,l’)$ 从 $r^{(p_i)}(0,l’)$ 开始在天线端口 $p_i$ 上的时隙上依次映射到资源单元 $(k,l)$ 上，公式如下：</p><script type="math/tex;mode=display">\alpha_{K_{TC}k'+k_0^{(p_i)},l'+l_0}^{(p_i)}=\begin{cases} \frac{1}{\sqrt{N_{ap}}}\beta_{SRS}r^{(p_i)}(k',l')\quad k'=0,1,...,M_{sc,b}^{SRS}\quad l'=0,1,...,N_{symb}^{SRS}-1\\\quad 0\quad\quad\quad\quad\quad\quad\quad\quad\quad othersize \end{cases}</script><h2 id="SRS-补充"><a href="#SRS-补充" class="headerlink" title="SRS 补充"></a>SRS 补充</h2><p>NR 系统中，基站可以为 UE 配置多个 SRS 资源集，每个 SRS 资源集包含 1 到 多个 SRS 资源，每个 SRS 资源包含1、2 或 4 个 SRS 端口。每个 SRS 资源可以配置在一个时隙的最后 6 个OFDM 符号中锋1、2或 4 个连续的符号。当SRS 与 PUSCH 发送在同一个时隙时，SRS 只能在 PUSCH 及其对应 的 DMRS 之后发送。<br>SRS 资源内的 SRS 端口所占有的子载波数在一个 RB 中的偏移通过高层信令配置。 SRS 资源的时频域资源映射是针对每个 SRS 资源进行配置的，同一个 SRS 资源内的不同 SRS 端口占用完全相同的符号，互相间通过频分 (占用不同的子载波) 或者码分 (利用不同的 ZC 序列或者相同的 ZC 序列的不同循环移位) 的方式进行复用。<br>NR 系统种 支持 64 种 SRS 贷款配置方式，一个 SRS 资源可配置的最小带宽为 4 个 RB，最大带宽 为 272 个 RB。</p><p>NR系统支持周期、半周期和非周期的 SRS的发送方式。SRS 的发送方式通过为 SRS 资源集和 SRS 资源配置关于时域类型的高层参数类型来实现。一个 SRS资源集内的所有 SRS 资源都与该 SRS 资源集具有相同的时域类型。</p><ul><li>周期性发送。时域类型被配置为周期的 SRS 资源的所有参数由高层信令配置，UE根据所配置的参数进行周期性的发送。同一个 SRS 资源集内的所有 SRS 资源具有相同的周期性。</li><li>半持续发送。时域类型被配置为半持续的 SRS 资源在激活期间也是周期发送的。它与周期性 SRS 的区别在于 UE 在接收到关于半持续 SRS 资源的高层信令配置后不发送 SRS，只有在接收到 MAC 层发送的关于半持续 SRS 资源的激活信令后才开始周期性地发送半持续 SRS 资源对应的 SRS ，在接收 MAC 层发送的半持续 SRS 资源的去激活命令后停止发送 SRS。因此，相对于周期性 SRS 资源，半持续 SRS 资源的配置以及激活，去激活相比高层信令 (RRC 信令) 更快，更灵活，适应于要求时延较低的业务快速传输。</li><li>非周期性发送。时域类型被配置为非周期的 SRS 资源通过 DCI 信令激活。 UE 每接收到一次触发非周期 SRS 资源的 SRS 触发信令，UE 进行一次所触发的 SRS 资源对应的 SRS 发送。</li></ul><h1 id="3-CSI-报告"><a href="#3-CSI-报告" class="headerlink" title="3 CSI 报告"></a>3 CSI 报告</h1><p>还没看完。</p><blockquote><p>参考文献<br>微信公众号：春天工作室<br>网页：<a href="https://mp.weixin.qq.com/s/nJIEE5B4wV3xirAqJZHfZA" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/nJIEE5B4wV3xirAqJZHfZA</a><br>网页：<a href="https://mp.weixin.qq.com/s/-15pUXt8BN4ZbxaiKJ-jgQ" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/-15pUXt8BN4ZbxaiKJ-jgQ</a><br>网页：<a href="https://mp.weixin.qq.com/s/WDpxnX6BqqOHzv9iJokS8w" target="_blank" rel="noopener">https://mp.weixin.qq.com/s/WDpxnX6BqqOHzv9iJokS8w</a><br>网页：<a href="http://www.sharetechnote.com/html/5G/5G_CSI_RS.html" target="_blank" rel="noopener">http://www.sharetechnote.com/html/5G/5G_CSI_RS.html</a><br>博客：<a href="http://blog.sina.com.cn/s/blog_3c3393b00102yne0.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_3c3393b00102yne0.html</a><br>博客：<a href="http://blog.sina.com.cn/s/blog_3c3393b00102yqs4.html" target="_blank" rel="noopener">http://blog.sina.com.cn/s/blog_3c3393b00102yqs4.html</a></p></blockquote></div><div><div><br><br><div style="text-align:center;color:#ccc;font-size:14px">----------- 本文结束 -----------</div><br><br><br><br></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/CSI/" rel="tag"><i class="fa fa-tag">CSI</i></a> <a href="/tags/SRS/" rel="tag"><i class="fa fa-tag">SRS</i></a></div><div class="post-widgets"><div id="needsharebutton-postbottom"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/5G%E5%8D%8F%E8%AE%AE/5G-NR-PUSCH%E5%AD%A6%E4%B9%A0/" rel="next" title="5G-NR-PUSCH学习"><i class="fa fa-chevron-left"></i> 5G-NR-PUSCH学习</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/5G%E5%8D%8F%E8%AE%AE/5G-NR-213%E5%8D%8F%E8%AE%AE%E8%A1%A5%E5%85%85/" rel="prev" title="5G-NR-213协议补充">5G-NR-213协议补充 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><a href="/"><img class="site-author-image" itemprop="image" src="/images/logo.jpg" alt="从之丶"></a><p class="site-author-name" itemprop="name">从之丶</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/%7C%7C%20archive"><span class="site-state-item-count">29</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">29</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/czGitAccount" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="mailto:caoz326@163.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-history fa-" aria-hidden="true"></i> 近期文章</div><ul class="links-of-blogroll-list"><li class="recent_posts_li"><a href="/Data_Structure_and_Algorithm/%E5%89%91%E6%8C%87offer/%E5%88%86%E6%B2%BB%E7%AE%97%E6%B3%95/" title="剑指offer -- 分治算法" target="_blank">剑指offer -- 分治算法</a></li><li class="recent_posts_li"><a href="/Data_Structure_and_Algorithm/%E5%89%91%E6%8C%87offer/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="剑指offer -- 动态规划" target="_blank">剑指offer -- 动态规划</a></li><li class="recent_posts_li"><a href="/Data_Structure_and_Algorithm/%E5%89%91%E6%8C%87offer/%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95/" title="剑指offer -- 查找算法" target="_blank">剑指offer -- 查找算法</a></li><li class="recent_posts_li"><a href="/Data_Structure_and_Algorithm/%E5%89%91%E6%8C%87offer/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" title="剑指offer -- 数据结构" target="_blank">剑指offer -- 数据结构</a></li><li class="recent_posts_li"><a href="/Data_Structure_and_Algorithm/%E5%89%91%E6%8C%87offer/%E5%8F%8C%E6%8C%87%E9%92%88/" title="剑指offer -- 双指针" target="_blank">剑指offer -- 双指针</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-CSI"><span class="nav-text">1 CSI</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1-CSI-配置"><span class="nav-text">1.1 CSI 配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-序列生成"><span class="nav-text">1.2 序列生成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3-映射"><span class="nav-text">1.3 映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-1-原理"><span class="nav-text">1.3.1 原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-3-2-例子"><span class="nav-text">1.3.2 例子</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-2-1-RB内"><span class="nav-text">1.3.2.1 RB内</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-2-2-BWP内"><span class="nav-text">1.3.2.2 BWP内</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4-CSI-RS-的发送时隙"><span class="nav-text">1.4 CSI-RS 的发送时隙</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-5-ZP-CSI-RS"><span class="nav-text">1.5 ZP CSI-RS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-6-CSI-RS-配置框架"><span class="nav-text">1.6 CSI-RS 配置框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-7-CSI-IM及其资源映射"><span class="nav-text">1.7 CSI-IM及其资源映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-1-Pattern-0"><span class="nav-text">1.7.1 Pattern 0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-2-Pattern-1"><span class="nav-text">1.7.2 Pattern 1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-7-3-干扰测量"><span class="nav-text">1.7.3 干扰测量</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-8-CSI-RS-for-Tracking"><span class="nav-text">1.8 CSI-RS for Tracking</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-9-CSI-RS-for-L1-RSRP"><span class="nav-text">1.9 CSI-RS for L1-RSRP:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-10-CSI-RS-for-mobility"><span class="nav-text">1.10 CSI-RS for mobility</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-SRS"><span class="nav-text">2 SRS</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1-SRS-配置"><span class="nav-text">2.1 SRS 配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2-SRS-发送梳配置"><span class="nav-text">2.2 SRS 发送梳配置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3-序列生成"><span class="nav-text">2.3 序列生成</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-SRS循环移位"><span class="nav-text">2.4 SRS循环移位</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4-映射"><span class="nav-text">2.4 映射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-1-时域资源配置"><span class="nav-text">2.4.1 时域资源配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-2-频域资源"><span class="nav-text">2.4.2 频域资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-3-频域资源特性"><span class="nav-text">2.4.3 频域资源特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-4-频域资源配置"><span class="nav-text">2.4.4 频域资源配置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-4-1-频域资源配置（非跳频）"><span class="nav-text">2.4.4.1 频域资源配置（非跳频）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-4-4-2-频域资源配置（跳频）"><span class="nav-text">2.4.4.2 频域资源配置（跳频）</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-4-2-1-非周期"><span class="nav-text">2.4.4.2.1 非周期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#2-4-4-2-2-周期和半持续"><span class="nav-text">2.4.4.2.2 周期和半持续</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-5-物理资源映射"><span class="nav-text">2.4.5 物理资源映射</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SRS-补充"><span class="nav-text">SRS 补充</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-CSI-报告"><span class="nav-text">3 CSI 报告</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2021</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">从之丶</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div><div id="needsharebutton-float"><span class="btn"><i class="fa fa-share-alt" aria-hidden="true"></i></span></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><i id="darkmode" class="fa fa-lightbulb-o" aria-hidden="true"></i><script>var body=$("body"),darkmode=$("#darkmode");(matchMedia("(prefers-color-scheme: dark)").matches||"1"===localStorage.getItem("darkmode"))&&"1"!==localStorage.getItem("noDark")&&body.addClass("dark"),body.hasClass("dark")?darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"):darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),darkmode.click(function(){body.hasClass("dark")?(darkmode.removeClass("fa-lightbulb-o").addClass("fa-moon-o"),body.removeClass("dark"),localStorage.setItem("darkmode","0"),localStorage.setItem("noDark","1")):(darkmode.removeClass("fa-moon-o").addClass("fa-lightbulb-o"),body.addClass("dark"),localStorage.setItem("darkmode","1"),localStorage.setItem("noDark","0"))})</script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/clipboard.min.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/highlight-wrap.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"><script src="/lib/needsharebutton/needsharebutton.js"></script><script>pbOptions={},pbOptions.iconStyle="box",pbOptions.boxForm="horizontal",pbOptions.position="bottomCenter",pbOptions.networks="Weibo,Wechat,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-postbottom",pbOptions),flOptions={},flOptions.iconStyle="box",flOptions.boxForm="horizontal",flOptions.position="middleRight",flOptions.networks="Weibo,Wechat,Douban,QQZone,Twitter,Facebook",new needShareButton("#needsharebutton-float",flOptions)</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"left",width:200,height:270},mobile:{show:!1},log:!1})</script></body></html><!-- rebuild by neat -->